<p id="notice"><%= notice %></p>
<div class="w-full px-8">
  <div class="w-full flex items-center justify-start">
    <h1 class="text-xl text-gray-900 font-medium my-4">Task Runs</h1>
  </div>

  <% if @task_runs.any? %>
    <div class="border border-gray-200 rounded-lg overflow-hidden">
      <table class="w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr class="text-xs text-gray-500 text-left uppercase font-medium tracking-wider">
            <th class="px-6 py-3">task_type</th>
            <th class="px-6 py-3">input_text</th>
            <th class="px-6 py-3">result_text</th>
            <th class="px-6 py-3">error</th>
            <th class="px-6 py-3">created_at</th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-200">
          <% @task_runs.each do |task_run| %>
            <tr class="text-xs">
              <td class="px-6 py-3">
                <%= link_to task_run.task_type, task_run %>
                <%= task_run.prompt.active ? "" : " (old version)" %>
              </td>
              <td class="px-6 py-3"><%= task_run.input_text %></td>
              <td class="px-6 py-3"><%= task_run.result_text %></td>
              <td class="px-6 py-3"><%= task_run.error %></td>
              <td class="px-6 py-3"><%= task_run.created_at.localtime.strftime("%H:%M%P, %d %b") %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <p>No tasks found.</p>
  <% end %>

  <br>

</div>

